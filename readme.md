## 强弱之分

使用方式简单总结下：对于父子引用关系，可以让父节点通过 Rc 来引用子节点，然后让子节点通过 Weak 来引用父节点。


| Weak | Rc |
| :--: | :--: |
|不计数	| 引用计数 | 
|不拥有所有权	|拥有值的所有权|
|不阻止值被释放(drop)	|所有权计数归零，才能 drop|
|引用的值存在返回 Some，不存在返回 None|引用的值必定存在|
|通过 upgrade 取到 Option<Rc<T>>，然后再取值|	通过 Deref 自动解引用，取值无需任何操作|

弱恰恰非常适合我们实现以下的场景：
持有一个 Rc 对象的临时引用，并且不在乎引用的值是否依然存在
阻止 Rc 导致的循环引用，因为 Rc 的所有权机制，会导致多个 Rc 都无法计数归零

## 如下为选择 Box<T>，Rc<T> 或 RefCell<T> 的理由：

Rc<T> 允许相同数据有多个所有者；Box<T> 和 RefCell<T> 有单一所有者。
Box<T> 允许在编译时执行不可变或可变借用检查；Rc<T>仅允许在编译时执行不可变借用检查；RefCell<T> 允许在运行时执行不可变或可变借用检查。
因为 RefCell<T> 允许在运行时执行可变借用检查，所以我们可以在即便 RefCell<T> 自身是不可变的情况下修改其内部的值。